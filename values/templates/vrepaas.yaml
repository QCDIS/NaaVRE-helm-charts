vrepaas:
  enabled: {{ .Values.vrepaas.enabled }}

  global:
    environment: production

    base_paths:
      test:
        vreapi: "/{{ trimAll "/" .Values.vrepaas.vreapi.ingress.basePath }}"
        vreapp: "/{{ trimAll "/" .Values.vrepaas.vreapp.ingress.basePath }}"
      production:
        vreapi: "/{{ trimAll "/" .Values.vrepaas.vreapi.ingress.basePath }}"
        vreapp: "/{{ trimAll "/" .Values.vrepaas.vreapp.ingress.basePath }}"

    ingress:
      host: "{{ .Values.global.ingress.domain }}"

    postgresql:
      auth:
        password: "{{ randAlphaNum 32 }}"

    keycloak:
       url: "https://{{ .Values.global.ingress.domain }}/{{ trimAll "/" .Values.keycloak.ingress.basePath }}"
       realm: "vre"
       client_id: "naavre"
       client_secret_key: "{{ .Values.global.secrets.keycloak.naavreClientSecret }}"

    argo:
      # FIXME
      namespace: "argo"
      url: "https://{{ .Values.global.ingress.domain }}/{{ trimAll "/" .Values.argoWorkflows.ingress.basePath }}"
      # FIXME
      token: "Bearer "

    k8s_secret_creator:
      url: "https://{{ .Values.global.ingress.domain }}/{{ trimAll "/" .Values.k8sSecretCreator.ingress.basePath }}/1.0.0/"
      token: "{{ .Values.global.secrets.k8sSecretCreator.apiToken }}"

  postgresql:
    annotations:
      {{- toYaml .Values.global.common.velero.podAnnotations | nindent 6 }}

  vreapi:
    image:
      tag: "{{ .Values.vrepaas.vreapi.image.tag }}"
    secret_key: "{{ randAlphaNum 32 }}"
    auth:
      superuser_email: "admin@paas.local"
      superuser_username: "admin"
      superuser_password: "{{ randAlphaNum 32 }}"
      username: "user"
      password: "{{ randAlphaNum 32 }}"
      token: "{{ .Values.global.secrets.vrepaas.apiToken }}"

  vreapp:
    image:
      tag: "{{ .Values.vrepaas.vreapp.image.tag }}"
    secret_key: "{{ randAlphaNum 32 }}"
